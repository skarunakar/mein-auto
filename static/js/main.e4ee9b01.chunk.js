(this["webpackJsonpmein-auto"]=this["webpackJsonpmein-auto"]||[]).push([[0],{237:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),c=a.n(o),i=a(20),s=a(12),l=a(32),u=a(25),d=a.n(u),m=a(272),f=a(284),j=a(282),b=a(285),h=a(274),g={FETCH_COLORS:"FETCH_COLORS",FETCH_MANUFACTURERS:"FETCH_MANUFACTURERS",FETCH_CAR_LIST:"FETCH_CAR_LIST",FETCH_CAR_DETAILS:"FETCH_CAR_DETAILS",SAVE_TO_CART:"SAVE_TO_CART",SET_FILTERS:"SET_FILTERS"},p=a(11),O=a.n(p),C=O()("data");var v=a(108),x=a.n(v).a.create({baseURL:"https://auto1-mock-server.herokuapp.com/",headers:{"Content-Type":"application/json",accept:"application/json"}}),S={get:function(e,t){return x.get(e,t)},post:function(e,t){return x.post(e,t)}},T={cars:O()("cars"),totalPageCount:O()("totalPageCount"),totalCarsCount:O()("totalCarsCount")},N={car:O()("car")},y=function(e){return function(t){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.get("api/cars?".concat(e))})(function(e){var t=e.color,a=e.manufacturer,r=e.sort,n=e.page;return"color=".concat(t,"&manufacturer=").concat(a,"&sort=").concat(r,"&page=").concat(n)}(e)).then(function(e){return function(t){var a=C(t),r=T.cars(a),n=T.totalPageCount(a),o=T.totalCarsCount(a);e({type:g.FETCH_CAR_LIST,payload:{carList:r,totalPageCount:n,totalCarsCount:o}})}}(t))}},E={colors:O()("colors")},_={manufacturers:O()("manufacturers"),name:O()("name"),models:O()("models")};function F(e){return function(t){t({type:g.SET_FILTERS,payload:e})}}var L=a(269),A=Object(L.a)((function(e){return{formContainer:{display:"flex",flexDirection:"column",minWidth:"12rem",margin:"0 2.4rem",border:"0.1rem solid ".concat(e.palette.divider),padding:"1.2rem 2.4rem 2.4rem"},formControl:{margin:"1.2rem 0"},select:{height:"4rem",textTransform:"capitalize",padding:"0.8rem",backgroundColor:"#fff",border:"0.1rem solid ".concat(e.palette.divider),fontSize:"1.4rem"},menuItem:{textTransform:"capitalize",fontSize:"1.4rem"},button:{width:"12.8rem",height:"3.2rem",color:"#fff",backgroundColor:"#EA7F28",alignSelf:"flex-end",fontSize:"1.4rem","&:hover":{backgroundColor:"#D37324"}}}})),R=a(3),k=function(e){var t=A(),a=e.colors,n=e.manufacturers,o=e.filterState,c=e.setFilters,i=e.fetchCarList,s=e.fetchColors,l=e.fetchManufacturers,u=o.color,d=o.manufacturer;Object(r.useEffect)((function(){s(),l()}),[]);var g=Object(r.useCallback)((function(e){e.preventDefault(),i(o)}),[i,o]);return Object(R.jsxs)("form",{onSubmit:g,className:t.formContainer,children:[Object(R.jsx)("div",{children:"Filter"}),Object(R.jsxs)(m.a,{className:t.formControl,children:[Object(R.jsx)(f.a,{shrink:!0,children:"Color"}),Object(R.jsxs)(j.a,{displayEmpty:!0,"data-testid":"car-filter-select",value:u||"",className:t.select,onChange:function(e){c({color:e.target.value,page:1})},children:[Object(R.jsx)(b.a,{value:"",className:t.menuItem,children:"All car colors"}),a.map((function(e){return Object(R.jsx)(b.a,{value:e,className:t.menuItem,children:e},e)}))]})]}),Object(R.jsxs)(m.a,{className:t.formControl,children:[Object(R.jsx)(f.a,{shrink:!0,children:"Manufacturer"}),Object(R.jsxs)(j.a,{value:d||"",displayEmpty:!0,"data-testid":"manufacturer-filter-select",className:t.select,onChange:function(e){c({manufacturer:e.target.value,page:1})},children:[Object(R.jsx)(b.a,{value:"",className:t.menuItem,children:"All manufacturers"}),n.map((function(e){return Object(R.jsx)(b.a,{value:e.name,className:t.menuItem,children:e.name},e.name)}))]})]}),Object(R.jsx)(h.a,{className:t.button,type:"submit","data-testid":"filter-button",variant:"contained",color:"primary",children:"Filter"})]})},D={fetchColors:function(){return function(e){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.get("api/colors?".concat(e))})().then(function(e){return function(t){var a=C(t),r=E.colors(a);e({type:g.FETCH_COLORS,payload:{colors:r}})}}(e))}},fetchManufacturers:function(){return function(e){var t;S.get("api/manufacturers?".concat(t)).then(function(e){return function(t){var a=C(t),r=_.manufacturers(a);e({type:g.FETCH_MANUFACTURERS,payload:{manufacturers:r}})}}(e))}},fetchCarList:y,setFilters:F};k.defaultProps={colors:[],manufacturers:[],setFilters:d.a,fetchCarList:d.a,fetchColors:d.a,fetchManufacturers:d.a,filterState:{}};var I=Object(l.b)((function(e){return{colors:e.filters.colors,manufacturers:e.filters.manufacturers,filterState:e.filters.filterState}}),D)(k),P=a(275),w=a(276),H=a(277),z={stockNumber:O()("stockNumber"),manufacturerName:O()("manufacturerName"),modelName:O()("modelName"),color:O()("color"),fuelType:O()("fuelType"),pictureUrl:O()("pictureUrl"),mileage:O()("milage")},M=Object(L.a)({root:{display:"flex",maxWidth:"70rem",height:"10.9rem",padding:"1.2rem",margin:"0.8rem 0"},content:{padding:"0 2.4rem"},itemTitle:{fontWeight:700,fontSize:"3.2rem"},subTitle:{textTransform:"capitalize"},img:{width:"10rem",height:"8rem"}}),U=function(e){var t=M(),a=e.car,r=z.stockNumber(a),n=z.mileage(a),o=z.fuelType(a),c=z.color(a),s=z.manufacturerName(a),l=z.modelName(a),u=z.pictureUrl(a);return Object(R.jsxs)(P.a,{className:t.root,variant:"outlined",children:[Object(R.jsx)(w.a,{className:t.img,image:u}),Object(R.jsxs)(H.a,{className:t.content,children:[Object(R.jsxs)("div",{className:t.itemTitle,children:[s," ",l]}),Object(R.jsxs)("div",{className:t.subTitle,children:["Stock # ",r," - ",n,"KM - ",o," - ",c]}),Object(R.jsx)(i.b,{to:"/car/".concat(r),children:"View Details"})]})]})};U.defaultProps={car:{}};var W=U,J=a(278),V=a(279),B=a(280),K=a(283),G=Object(L.a)({root:{marginTop:"2.4rem"},gridItem:{padding:"0 0.8rem"},listHeader:{fontSize:"1.8rem",fontFamily:"Roboto",fontWeight:700,marginBottom:"1.2rem"},paginationContainer:{margin:"0.8rem"}}),Y=function(e){return e.map((function(e){return Object(R.jsx)(W,{car:e},z.stockNumber(e))}))},Z=function(e){var t=e.carList,a=e.totalCarsCount,n=e.fetchCarList,o=e.filterState,c=e.totalPageCount,i=e.setFilters,s=e.isLoading,l=o.page;Object(r.useEffect)((function(){n(o)}),[l]);var u=Object(r.useCallback)((function(e,t){i({page:t})}),[o]),d=G();return Object(R.jsx)(J.a,{className:d.root,children:Object(R.jsxs)(V.a,{container:!0,children:[Object(R.jsx)(V.a,{item:!0,xs:12,md:4,children:Object(R.jsx)(I,{})}),Object(R.jsx)(V.a,{item:!0,xs:12,md:8,className:d.gridItem,children:s?Object(R.jsx)(B.a,{}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:d.listHeader,children:"Available Cars"}),Object(R.jsx)("div",{children:"Showing ".concat(l!==c?10:a-10*(l-1)," of ").concat(a," results")}),Y(t),Object(R.jsx)(K.a,{page:l,showFirstButton:!0,showLastButton:!0,count:c,className:d.paginationContainer,onChange:u})]})})]})})},q={fetchCarList:y,setFilters:F};Z.defaultProps={carList:[],setFilters:d.a,fetchCarList:d.a,filterState:{},totalCarsCount:void 0,totalPageCount:void 0};var Q=Object(l.b)((function(e){return{carList:e.cars.carList,totalCarsCount:e.cars.totalCarsCount,totalPageCount:e.cars.totalPageCount,isLoading:e.cars.isLoading,filterState:e.filters.filterState}}),q)(Z),X=a(118),$=a(114),ee=a.n($),te=a(115),ae=a.n(te);var re=Object(L.a)((function(e){return{img:{backgroundSize:"contain",height:"39rem",backgroundColor:"#EDEDED"},detailsContainer:{display:"flex",justifyContent:"space-between",marginTop:"2.4rem",width:"80rem"},prodAvailability:{maxWidth:"45.7rem"},saveContainer:{border:"0.1rem solid ".concat(e.palette.divider),margin:"0 0 0 2.4rem",padding:"2.4rem",width:"30rem",display:"flex",flexDirection:"column"},itemTitle:{fontWeight:700,fontSize:"3.2rem"},itemSubTitle:{fontWeight:700,fontSize:"1.8rem",margin:"1.2rem 0"},button:{width:"12.8rem",height:"3.2rem",color:"#fff",backgroundColor:"#EA7F28",alignSelf:"flex-end",fontSize:"1.4rem","&:hover":{backgroundColor:"#D37324"}}}})),ne=function(e,t,a){return function(){var r=JSON.parse(localStorage.getItem("favorites"))||[],n="Save"===e;n?r.push(t):r=ee()(r,t),localStorage.setItem("favorites",JSON.stringify(r)),a(n)}},oe=function(e){var t=Object(s.f)().stockNumber,a=JSON.parse(localStorage.getItem("favorites")),n=Object(r.useState)(function(e,t){return ae()(e,(function(e){return e===t}))}(a,t)),o=Object(X.a)(n,2),c=o[0],i=o[1],l=re(),u=e.car,d=e.fetchCarDetails,m=z.mileage(u),f=z.fuelType(u),j=z.color(u),b=z.manufacturerName(u),g=z.modelName(u),p=z.pictureUrl(u);return Object(r.useEffect)((function(){d(t)}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{children:Object(R.jsx)(w.a,{className:l.img,image:p})}),Object(R.jsxs)(J.a,{className:l.detailsContainer,children:[Object(R.jsxs)(V.a,{item:!0,children:[Object(R.jsxs)("div",{className:l.itemTitle,children:[b," ",g]}),Object(R.jsxs)("div",{className:l.itemSubTitle,children:["Stock ",t," - ",m,"KM - ",f," - ",j]}),Object(R.jsx)("div",{className:l.prodAvailability,children:"This car is currently available and can be delivered as soon as tomorrow morning. Please be aware that delivery times shown in this page are not definitive and may change due to bad weather conditions."})]}),Object(R.jsxs)(V.a,{item:!0,className:l.saveContainer,children:[Object(R.jsx)("div",{children:"If you like this car, click the button and save it in your collection of favorite items."}),Object(R.jsx)(h.a,{className:l.button,onClick:ne(c?"Remove":"Save",t,i),children:c?"Remove":"Save"})]})]})]})},ce={fetchCarDetails:function(e,t){return function(a){(function(e,t){return S.get("api/cars/".concat(e,"?").concat(t))})(e,t).then(function(e){return function(t){var a=C(t),r=N.car(a);e({type:g.FETCH_CAR_DETAILS,payload:{carDetails:r}})}}(a))}}};oe.defaultProps={car:[],fetchCarDetails:d.a};var ie=Object(l.b)((function(e){return{car:e.cars.carDetails}}),ce)(oe),se=a.p+"static/media/logo.242ab3b0.svg",le=a(50),ue=a.n(le),de=function(){return Object(R.jsxs)("div",{className:ue.a.errorContainer,children:[Object(R.jsx)("img",{className:ue.a.logo,src:se,alt:"logo"}),Object(R.jsx)("h1",{children:"404 - Not Found"}),Object(R.jsx)("div",{className:ue.a.errorDetail,children:"Sorry, the page you are looking for does not exist"}),Object(R.jsxs)("div",{className:ue.a.errorDetail,children:["You can always go back to the ",Object(R.jsx)(i.b,{to:"/",children:"homepage"})]})]})},me=n.a.memo(de);var fe=function(){return Object(R.jsxs)(s.c,{children:[Object(R.jsx)(s.a,{exact:!0,path:"/",component:Q}),Object(R.jsx)(s.a,{exact:!0,path:"/car/:stockNumber",component:ie}),Object(R.jsx)(s.a,{path:"*",children:Object(R.jsx)(me,{})})]})},je=a(281),be=a(64),he=a.n(be),ge=function(){return Object(R.jsxs)("div",{className:he.a.headerContainer,children:[Object(R.jsx)(i.b,{to:"/",children:Object(R.jsx)("img",{className:he.a.logo,src:se,alt:"mein-auto"})}),Object(R.jsxs)("div",{className:he.a.rightheaderPanel,children:[Object(R.jsx)(i.b,{to:"/purchase",children:"Purchase"}),Object(R.jsx)(i.b,{to:"/myOrders",children:"My Orders"}),Object(R.jsx)(i.b,{to:"/sell",children:"Sell"})]})]})},pe=n.a.memo(ge),Oe=Object(L.a)((function(){return{footerContainer:{borderTop:"0.1rem solid #EDEDED",padding:"2.4rem 0",display:"flex",justifyContent:"center",alignItems:"center",height:"8rem",fontSize:"1.4rem"}}})),Ce=function(){var e=Oe();return Object(R.jsx)("footer",{className:e.footerContainer,children:"\xa9 Auto1 Group 2018"})},ve=n.a.memo(Ce),xe=a(39),Se=a(116),Te=a(117),Ne=a(18),ye={colors:[],manufacturers:[],filterState:{color:"",manufacturer:"",sort:"asc",page:1}},Ee=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case g.FETCH_COLORS:return Object(Ne.a)(Object(Ne.a)({},a),{},{colors:null===r||void 0===r||null===(e=r.payload)||void 0===e?void 0:e.colors});case g.FETCH_MANUFACTURERS:return Object(Ne.a)(Object(Ne.a)({},a),{},{manufacturers:null===r||void 0===r||null===(t=r.payload)||void 0===t?void 0:t.manufacturers});case g.SET_FILTERS:return Object(Ne.a)(Object(Ne.a)({},a),{},{filterState:Object(Ne.a)(Object(Ne.a)({},a.filterState),null===r||void 0===r?void 0:r.payload)});default:return a}},_e={carList:[],page:1,isLoading:!0},Fe=function(){var e,t,a,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case g.FETCH_CAR_LIST:return Object(Ne.a)(Object(Ne.a)({},n),{},{carList:null===o||void 0===o||null===(e=o.payload)||void 0===e?void 0:e.carList,totalPageCount:null===o||void 0===o||null===(t=o.payload)||void 0===t?void 0:t.totalPageCount,totalCarsCount:null===o||void 0===o||null===(a=o.payload)||void 0===a?void 0:a.totalCarsCount,isLoading:!1});case g.FETCH_CAR_DETAILS:return Object(Ne.a)(Object(Ne.a)({},n),{},{carDetails:null===o||void 0===o||null===(r=o.payload)||void 0===r?void 0:r.carDetails});default:return n}},Le=Object(xe.combineReducers)({filters:Ee,cars:Fe}),Ae=[Te.a],Re=Object(xe.compose)(Se.composeWithDevTools,xe.applyMiddleware),ke=Object(xe.createStore)(Le,{},Re.apply(void 0,Ae));var De=function(){return Object(R.jsxs)(l.a,{store:ke,children:[Object(R.jsx)(je.a,{}),Object(R.jsxs)(i.a,{basename:"/",children:[Object(R.jsx)(pe,{}),Object(R.jsx)("main",{id:"content",children:Object(R.jsx)(s.c,{children:Object(R.jsx)(s.a,{path:"*",component:fe})})}),Object(R.jsx)(ve,{})]})]})};a(237);c.a.render(Object(R.jsx)(n.a.StrictMode,{children:Object(R.jsx)(De,{})}),document.getElementById("root"))},50:function(e,t,a){e.exports={errorContainer:"pageNotFoundError_errorContainer__3kmPC",logo:"pageNotFoundError_logo__1OFVe",errorDetail:"pageNotFoundError_errorDetail__3yDkr"}},64:function(e,t,a){e.exports={logo:"header_logo__2dFPS",headerContainer:"header_headerContainer__1KV5u",rightheaderPanel:"header_rightheaderPanel__1xZtH"}}},[[238,1,2]]]);
//# sourceMappingURL=main.e4ee9b01.chunk.js.map